(function(e){function t(t){for(var r,i,o=t[0],l=t[1],c=t[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},s={app:0},n=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/admin/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"06b5":function(e,t,a){},"19a1":function(e,t,a){},"1d96":function(e,t,a){"use strict";var r=a("92ce"),s=a.n(r);s.a},"382a":function(e,t,a){},"3d39":function(e,t,a){},4024:function(e,t,a){},"4fb5":function(e,t,a){"use strict";var r=a("19a1"),s=a.n(r);s.a},"56d7":function(e,t,a){"use strict";a.r(t);a("dac5"),a("6e26"),a("9604"),a("df67");var r=a("6e6d"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"App"}},[a("router-view")],1)},n=[],i={name:"App",components:{}},o=i,l=a("6691"),c=Object(l["a"])(o,s,n,!1,null,null,null),u=c.exports,d=a("c478"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Main"},[a("el-container",{staticStyle:{height:"100vh"}},[a("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[a("el-menu",{attrs:{router:"","default-active":e.$route.path,"unique-opened":""}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),e._v("内容管理\n          ")]),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("分类")]),a("el-menu-item",{attrs:{index:"/categories/edit"}},[e._v("新建分类")]),a("el-menu-item",{attrs:{index:"/categories/list"}},[e._v("分类列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("物品")]),a("el-menu-item",{attrs:{index:"/goods/edit"}},[e._v("新建物品")]),a("el-menu-item",{attrs:{index:"/goods/list"}},[e._v("物品列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("英雄")]),a("el-menu-item",{attrs:{index:"/heros/edit"}},[e._v("新建英雄")]),a("el-menu-item",{attrs:{index:"/heros/list"}},[e._v("英雄列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("文章")]),a("el-menu-item",{attrs:{index:"/articles/edit"}},[e._v("新建文章")]),a("el-menu-item",{attrs:{index:"/articles/list"}},[e._v("文章列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("广告位")]),a("el-menu-item",{attrs:{index:"/adverts/edit"}},[e._v("新建广告位")]),a("el-menu-item",{attrs:{index:"/adverts/list"}},[e._v("广告位列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("精彩视频")]),a("el-menu-item",{attrs:{index:"/videos/edit"}},[e._v("新建视频")]),a("el-menu-item",{attrs:{index:"/videos/list"}},[e._v("视频列表")])],2)],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),e._v("系统管理\n          ")]),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("管理员管理")]),a("el-menu-item",{attrs:{index:"/adminUsers/edit"}},[e._v("新建管理员")]),a("el-menu-item",{attrs:{index:"/adminUsers/list"}},[e._v("管理员列表")])],2)],2)],1)],1),a("el-container",[a("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[a("el-dropdown",[a("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v("注销")])],1)],1),a("span",[e._v("王小虎")])],1),a("el-main",[a("router-view",{key:e.$route.path})],1)],1)],1)],1)},p=[],h={name:"Main",data:function(){return{}},methods:{logout:function(){localStorage.setItem("token",""),this.$message({type:"success",message:"已注销"}),this.$router.push("/Login")}}},f=h,g=(a("e6e4"),Object(l["a"])(f,m,p,!1,null,"a32a1968",null)),v=g.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CategoriesList"},[a("h1",[e._v("分类列表")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.categories,stripe:"",fit:""}},[a("el-table-column",{staticStyle:{width:"220px"},attrs:{prop:"_id",label:"_id"}}),a("el-table-column",{attrs:{prop:"parent.name",label:"父类"}}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/categories/edit/"+t.row._id)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.del(t.row)}}},[e._v("删除")])]}}])})],1)],1)},w=[],_=(a("7364"),a("63ff"),a("ad3e")),y={name:"CategoriesList",data:function(){return{categories:[]}},methods:{getCategories:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/categories");case 2:t=e.sent,this.categories=t.data.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),del:function(e){var t=this;this.$confirm('是否真的删除："'.concat(e.name,'" '),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(_["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.delete("/categories?_id=".concat(e._id));case 2:r=a.sent,0===r.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.getCategories());case 4:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.getCategories()}},x=y,$=Object(l["a"])(x,b,w,!1,null,"4e817222",null),k=$.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CategoriesEdit"},[a("h1",[e._v(e._s(e.$route.params._id?"编辑":"创建")+"分类")]),a("el-form",{nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"选择父类"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.category.parent,callback:function(t){e.$set(e.category,"parent",t)},expression:"category.parent"}},e._l(e.parents,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"输入分类名称"},on:{focus:function(t){e.isShowAlert=!1}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add(t)}},model:{value:e.category.name,callback:function(t){e.$set(e.category,"name",t)},expression:"category.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.add(t)}}},[e._v("提交")])],1)],1),a("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.isShowAlert,expression:"isShowAlert"}],attrs:{title:e.alertMsg,type:"error","show-icon":""}})],1)},A=[],U={name:"CategoriesEdit",data:function(){return{category:{_id:"",name:""},parents:[],isShowAlert:!1,alertMsg:""}},methods:{add:function(){var e=this,t=this.category,a=t.name,r=t.parent;if(a=a.trim(),!a)return this.alertMsg="分类名称不合法",void(this.isShowAlert=!0);var s=this.$route.params._id;s?this.$http.put("/categories",{_id:s,name:a,parent:r}).then((function(t){e.$message({type:"success",message:"分类修改成功！"}),e.$router.push("/categories/list")})).catch((function(t){e.alertMsg="分类修改失败！".concat(t),e.isShowAlert=!0})):this.$http.post("/categories",{name:a,parent:r}).then((function(t){e.$message({type:"success",message:"分类添加成功！"}),e.$router.push("/categories/list")})).catch((function(t){e.alertMsg="分类添加失败！".concat(t),e.isShowAlert=!0}))},getCategoryById:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$route.params._id,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.$http.get("/categories?_id=".concat(t));case 5:a=e.sent,this.category=a.data.data;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getParents:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/categories");case 2:t=e.sent,this.parents=t.data.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.getParents(),this.getCategoryById()}},O=U,C=Object(l["a"])(O,S,A,!1,null,"c64466f0",null),R=C.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"GoodsList"},[a("h1",[e._v("物品列表")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.goods,stripe:"",fit:""}},[a("el-table-column",{staticStyle:{width:"220px"},attrs:{prop:"_id",label:"_id"}}),a("el-table-column",{attrs:{label:"图标"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{height:"50px",width:"50px","border-radius":"5px"},attrs:{src:e.row.icon,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/goods/edit/"+t.row._id)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.del(t.row)}}},[e._v("删除")])]}}])})],1)],1)},E=[],M={name:"GoodsList",data:function(){return{goods:[]}},methods:{getgoods:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/goods");case 2:t=e.sent,this.goods=t.data.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),del:function(e){var t=this;this.$confirm('是否真的删除："'.concat(e.name,'" '),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(_["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.delete("/goods?_id=".concat(e._id));case 2:r=a.sent,0===r.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.getgoods());case 4:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.getgoods()}},L=M,B=Object(l["a"])(L,j,E,!1,null,"85ed11c4",null),D=B.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"GoodsEdit"},[a("h1",[e._v(e._s(e.$route.params._id?"编辑":"创建")+"物品")]),a("el-form",{nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"输入物品名称"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:e.good.name,callback:function(t){e.$set(e.good,"name",t)},expression:"good.name"}})],1),a("el-form-item",{attrs:{label:"图标"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUploadAction,"show-file-list":!1,"on-success":e.afterUpload,"on-error":e.errorUpload,headers:e.addHeaders}},[e.good.icon?a("img",{staticClass:"avatar",attrs:{src:e.good.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.add(t)}}},[e._v("提交")])],1)],1),a("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.isShowAlert,expression:"isShowAlert"}],attrs:{title:e.alertMsg,type:"error","show-icon":""}})],1)},z=[],P={name:"GoodsEdit",data:function(){return{good:{_id:"",name:"",icon:""},isShowAlert:!1,alertMsg:""}},methods:{afterUpload:function(e){this.good.icon=e.imgUrl},errorUpload:function(e){401===e.status&&(this.$message({type:"error",message:"token校验失败，请重新登录"}),this.$router.push("/Login"))},add:function(){var e=this,t=this.good,a=t.name,r=t.icon;if(a=a.trim(),!a)return this.alertMsg="物品名称不合法",void(this.isShowAlert=!0);var s=this.$route.params._id;s?this.$http.put("/goods",{_id:s,name:a,icon:r}).then((function(t){e.$message({type:"success",message:"物品修改成功！"}),e.$router.push("/goods/list")})).catch((function(t){e.alertMsg="物品修改失败！".concat(t),e.isShowAlert=!0})):this.$http.post("/goods",{name:a,icon:r}).then((function(t){e.$message({type:"success",message:"物品添加成功！"}),e.$router.push("/goods/list")})).catch((function(t){e.alertMsg="物品添加失败！".concat(t),e.isShowAlert=!0}))},getgoodById:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params._id,e.next=3,this.$http.get("/goods?_id=".concat(t));case 3:a=e.sent,this.good=a.data.data;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.$route.params._id&&this.getgoodById()}},T=P,H=(a("5fe6"),Object(l["a"])(T,I,z,!1,null,"75e88973",null)),N=H.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"HerosList"},[a("h1",[e._v("英雄列表")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.heros,stripe:"",fit:""}},[a("el-table-column",{staticStyle:{width:"220px"},attrs:{prop:"_id",label:"_id"}}),a("el-table-column",{attrs:{label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{height:"50px",width:"50px","border-radius":"5px"},attrs:{src:e.row.icon,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/heros/edit/"+t.row._id)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.del(t.row)}}},[e._v("删除")])]}}])})],1)],1)},G=[],Y={name:"HerosList",data:function(){return{heros:[]}},methods:{getheros:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/heros");case 2:t=e.sent,this.heros=t.data.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),del:function(e){var t=this;this.$confirm('是否真的删除："'.concat(e.name,'" '),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(_["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.delete("/heros?_id=".concat(e._id));case 2:r=a.sent,0===r.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.getheros());case 4:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.getheros()}},q=Y,J=Object(l["a"])(q,V,G,!1,null,"7c07f170",null),F=J.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"HerosEdit"},[a("h1",[e._v(e._s(e.$route.params._id?"编辑":"创建")+"英雄")]),a("el-form",{nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基础信息",name:"first"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"输入英雄名称"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"图标"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUploadAction,headers:e.addHeaders,"show-file-list":!1,"on-success":function(t){return e.model.icon=t.imgUrl}}},[e.model.icon?a("img",{staticClass:"avatar",attrs:{src:e.model.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"背景图"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUploadAction,headers:e.addHeaders,"show-file-list":!1,"on-success":function(t){return e.model.bg_img=t.imgUrl}}},[e.model.bg_img?a("img",{staticClass:"avatar",attrs:{src:e.model.bg_img}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"称号（标签）"}},[a("el-input",{attrs:{placeholder:"输入英雄称号"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),a("el-form-item",{attrs:{label:"所属分类"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.model.categories,callback:function(t){e.$set(e.model,"categories",t)},expression:"model.categories"}},e._l(e.categories,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"评分"}},[a("br"),a("div",{staticClass:"score-box"},[a("div",[a("span",[e._v("难度")]),a("el-rate",{attrs:{max:9,"show-score":""},model:{value:e.model.scores.diffcut,callback:function(t){e.$set(e.model.scores,"diffcut",t)},expression:"model.scores.diffcut"}})],1),a("div",[a("span",[e._v("技能")]),a("el-rate",{attrs:{max:9,"show-score":""},model:{value:e.model.scores.technicl,callback:function(t){e.$set(e.model.scores,"technicl",t)},expression:"model.scores.technicl"}})],1),a("div",[a("span",[e._v("攻击")]),a("el-rate",{attrs:{max:9,"show-score":""},model:{value:e.model.scores.attack,callback:function(t){e.$set(e.model.scores,"attack",t)},expression:"model.scores.attack"}})],1),a("div",[a("span",[e._v("生存")]),a("el-rate",{attrs:{max:9,"show-score":""},model:{value:e.model.scores.live,callback:function(t){e.$set(e.model.scores,"live",t)},expression:"model.scores.live"}})],1)])]),a("el-form-item",{attrs:{label:"出装推荐"}},[a("br"),a("div",{staticClass:"goods-box"},[a("div",{staticClass:"good"},[a("span",[e._v("顺风出装")]),a("el-select",{attrs:{multiple:"",placeholder:"请选择装备"},model:{value:e.model.goods.good.items,callback:function(t){e.$set(e.model.goods.good,"items",t)},expression:"model.goods.good.items"}},e._l(e.goods,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1),a("el-input",{attrs:{type:"textarea",placeholder:"输入小提示"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:e.model.goods.good.tips,callback:function(t){e.$set(e.model.goods.good,"tips",t)},expression:"model.goods.good.tips"}})],1),a("div",{staticClass:"bad"},[a("span",[e._v("逆风出装")]),a("el-select",{attrs:{multiple:"",placeholder:"请选择装备"},model:{value:e.model.goods.bad.items,callback:function(t){e.$set(e.model.goods.bad,"items",t)},expression:"model.goods.bad.items"}},e._l(e.goods,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1),a("el-input",{attrs:{type:"textarea",placeholder:"输入小提示"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:e.model.goods.bad.tips,callback:function(t){e.$set(e.model.goods.bad,"tips",t)},expression:"model.goods.bad.tips"}})],1)])]),a("el-form-item",{attrs:{label:"使用技巧"}},[a("el-input",{attrs:{type:"textarea",placeholder:"输入英雄使用技巧"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:e.model.useage_skills,callback:function(t){e.$set(e.model,"useage_skills",t)},expression:"model.useage_skills"}})],1),a("el-form-item",{attrs:{label:"对抗技巧"}},[a("el-input",{attrs:{type:"textarea",placeholder:"输入英雄对抗技巧"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:e.model.battle_skills,callback:function(t){e.$set(e.model,"battle_skills",t)},expression:"model.battle_skills"}})],1),a("el-form-item",{attrs:{label:"团战技巧"}},[a("el-input",{attrs:{type:"textarea",placeholder:"输入英雄团战技巧"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:e.model.team_skills,callback:function(t){e.$set(e.model,"team_skills",t)},expression:"model.team_skills"}})],1)],1),a("el-tab-pane",{attrs:{label:"技能管理",name:"second"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus",plain:""},on:{click:function(t){return t.preventDefault(),e.model.skills.push({name:"",icon:"",describs:"",tips:""})}}},[e._v("添加技能")]),a("div",{staticClass:"skills-box"},e._l(e.model.skills,(function(t,r){return a("div",{key:r,staticClass:"item"},[a("el-form-item",{attrs:{label:"招式名称"}},[a("el-input",{attrs:{placeholder:"输入招式名称"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),a("el-form-item",{attrs:{label:"冷却值"}},[a("el-input",{attrs:{placeholder:"输入冷却值"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:t.cold,callback:function(a){e.$set(t,"cold",a)},expression:"item.cold"}})],1),a("el-form-item",{attrs:{label:"消耗值"}},[a("el-input",{attrs:{placeholder:"输入消耗值"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:t.cost,callback:function(a){e.$set(t,"cost",a)},expression:"item.cost"}})],1),a("el-form-item",{attrs:{label:"招式图标"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUploadAction,headers:e.addHeaders,"show-file-list":!1,"on-success":function(e){return t.icon=e.imgUrl}}},[t.icon?a("img",{staticClass:"avatar",attrs:{src:t.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"招式描述"}},[a("el-input",{attrs:{placeholder:"输入招式描述",type:"textarea"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:t.describs,callback:function(a){e.$set(t,"describs",a)},expression:"item.describs"}})],1),a("el-form-item",{attrs:{label:"招式提示"}},[a("el-input",{attrs:{placeholder:"输入招式提示",type:"textarea"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:t.tips,callback:function(a){e.$set(t,"tips",a)},expression:"item.tips"}})],1),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete",plain:""},on:{click:function(t){return t.preventDefault(),e.model.skills.splice(r,1)}}},[e._v("删除")])],1)],1)})),0)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.add(t)}}},[e._v("提交")])],1)],1),a("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.isShowAlert,expression:"isShowAlert"}],attrs:{title:e.alertMsg,type:"error","show-icon":""}})],1)},Q=[],W={name:"HerosEdit",data:function(){return{activeName:"first",model:{_id:"",name:"",icon:"",title:"",categories:[],scores:{diffcut:0,technicl:0,attack:0,live:0},goods:{good:{tips:"",items:[]},bad:{tips:"",items:[]}},useage_skills:"",battle_skills:"",team_skills:"",partners:[],skills:[],bg_img:""},isShowAlert:!1,alertMsg:"",categories:[],goods:[]}},methods:{add:function(){var e=this,t=this.model,a=t.name;t.icon;if(a=a.trim(),!a)return this.alertMsg="英雄名称不合法",void(this.isShowAlert=!0);var r=this.$route.params._id;r?this.$http.put("/heros",this.model).then((function(t){e.$message({type:"success",message:"英雄修改成功！"}),e.$router.push("/heros/list")})).catch((function(t){e.alertMsg="英雄修改失败！".concat(t),e.isShowAlert=!0})):this.$http.post("/heros",this.model).then((function(t){e.$message({type:"success",message:"英雄添加成功！"}),e.$router.push("/heros/list")})).catch((function(t){e.alertMsg="英雄添加失败！".concat(t),e.isShowAlert=!0}))},getheroById:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params._id,e.next=3,this.$http.get("/heros?_id=".concat(t));case 3:a=e.sent,Object.assign(this.model,a.data.data);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getCategories:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="5daaea095dbfe76ec732da4b",e.next=3,this.$http.get("/categories?parent=".concat(t));case 3:a=e.sent,this.categories=a.data.data;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getGoods:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/goods");case 2:t=e.sent,this.goods=t.data.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.getCategories(),this.getGoods(),this.$route.params._id&&this.getheroById()}},X=W,Z=(a("8f36"),Object(l["a"])(X,K,Q,!1,null,"126323cc",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ArticlesList"},[a("h1",[e._v("文章列表")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.articles,stripe:"",fit:""}},[a("el-table-column",{staticStyle:{width:"220px"},attrs:{prop:"_id",label:"_id"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"pub_date",label:"发表日期"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/articles/edit/"+t.row._id)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.del(t.row)}}},[e._v("删除")])]}}])})],1)],1)},ae=[],re={name:"ArticlesList",data:function(){return{articles:[]}},methods:{getarticles:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/articles");case 2:t=e.sent,this.articles=t.data.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),del:function(e){var t=this;this.$confirm('是否真的删除："'.concat(e.title,'" '),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(_["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.delete("/articles?_id=".concat(e._id));case 2:r=a.sent,0===r.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.getarticles());case 4:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.getarticles()}},se=re,ne=Object(l["a"])(se,te,ae,!1,null,"a44b1c48",null),ie=ne.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ArticlesEdit"},[a("h1",[e._v(e._s(e.$route.params._id?"编辑":"创建")+"文章")]),a("el-form",{nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"输入文章标题"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:e.article.title,callback:function(t){e.$set(e.article,"title",t)},expression:"article.title"}})],1),a("el-form-item",{attrs:{label:"所属分类"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.article.categories,callback:function(t){e.$set(e.article,"categories",t)},expression:"article.categories"}},e._l(e.categories,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"内容"}},[a("vue-editor",{attrs:{useCustomImageHandler:"",id:"editor"},on:{"image-added":e.handleImageAdded},model:{value:e.article.content,callback:function(t){e.$set(e.article,"content",t)},expression:"article.content"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.add(t)}}},[e._v("提交")])],1)],1),a("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.isShowAlert,expression:"isShowAlert"}],attrs:{title:e.alertMsg,type:"error","show-icon":""}})],1)},le=[],ce=a("7457"),ue={name:"ArticlesEdit",data:function(){return{article:{_id:"",title:"",categories:[],content:""},isShowAlert:!1,alertMsg:"",categories:[]}},components:{VueEditor:ce["a"]},methods:{add:function(){var e=this,t=this.article,a=t.title,r=t.categories,s=t.content;if(a=a.trim(),!a)return this.alertMsg="文章标题不合法",void(this.isShowAlert=!0);var n=this.$route.params._id;n?this.$http.put("/articles",{title:a,categories:r,content:s,_id:n}).then((function(t){e.$message({type:"success",message:"文章修改成功！"}),e.$router.push("/articles/list")})).catch((function(t){e.alertMsg="文章修改失败！".concat(t),e.isShowAlert=!0})):this.$http.post("/articles",{title:a,categories:r,content:s}).then((function(t){e.$message({type:"success",message:"文章添加成功！"}),e.$router.push("/articles/list")})).catch((function(t){e.alertMsg="文章添加失败！".concat(t),e.isShowAlert=!0}))},getarticleById:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params._id,e.next=3,this.$http.get("/articles?_id=".concat(t));case 3:a=e.sent,this.article=a.data.data;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getCategories:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="5dab45ce9265ba7350670065",e.next=3,this.$http.get("/categories?parent=".concat(t));case 3:a=e.sent,this.categories=a.data.data;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleImageAdded:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t,a,r,s){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("file",t),e.next=4,this.$http.post(this.fileUploadAction,n);case 4:i=e.sent,a.insertEmbed(r,"image",i.data.imgUrl),s();case 7:case"end":return e.stop()}}),e,this)})));function t(t,a,r,s){return e.apply(this,arguments)}return t}()},created:function(){this.getCategories(),this.$route.params._id&&this.getarticleById()}},de=ue,me=(a("1d96"),Object(l["a"])(de,oe,le,!1,null,"72da1c0c",null)),pe=me.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AdvertsList"},[a("h1",[e._v("广告位列表")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.adverts,stripe:"",fit:""}},[a("el-table-column",{staticStyle:{width:"220px"},attrs:{prop:"_id",label:"_id"}}),a("el-table-column",{attrs:{prop:"name",label:"广告位名称"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/adverts/edit/"+t.row._id)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.del(t.row)}}},[e._v("删除")])]}}])})],1)],1)},fe=[],ge={name:"AdvertsList",data:function(){return{adverts:[]}},methods:{getadverts:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/adverts");case 2:t=e.sent,this.adverts=t.data.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),del:function(e){var t=this;this.$confirm('是否真的删除："'.concat(e.name,'" '),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(_["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.delete("/adverts?_id=".concat(e._id));case 2:r=a.sent,0===r.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.getadverts());case 4:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.getadverts()}},ve=ge,be=Object(l["a"])(ve,he,fe,!1,null,"7f506dc6",null),we=be.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AdvertsEdit"},[a("h1",[e._v(e._s(e.$route.params._id?"编辑":"创建")+"广告位")]),a("el-form",{nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"输入广告位名称"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:e.advert.name,callback:function(t){e.$set(e.advert,"name",t)},expression:"advert.name"}})],1),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus",plain:""},on:{click:function(t){return t.preventDefault(),e.advert.items.push({img_url:"",link_url:"",title:""})}}},[e._v("添加广告")]),a("div",{staticClass:"skills-box"},e._l(e.advert.items,(function(t,r){return a("div",{key:r,staticClass:"item"},[a("el-form-item",{attrs:{label:"广告标题"}},[a("el-input",{attrs:{placeholder:"输入广告标题"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:t.title,callback:function(a){e.$set(t,"title",a)},expression:"item.title"}})],1),a("el-form-item",{attrs:{label:"广告图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUploadAction,headers:e.addHeaders,"show-file-list":!1,"on-success":function(e){return t.img_url=e.imgUrl}}},[t.img_url?a("img",{staticClass:"avatar",attrs:{src:t.img_url}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"广告链接"}},[a("el-input",{attrs:{placeholder:"输入广告链接",type:"text"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:t.link_url,callback:function(a){e.$set(t,"link_url",a)},expression:"item.link_url"}})],1),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete",plain:""},on:{click:function(t){return t.preventDefault(),e.advert.items.splice(r,1)}}},[e._v("删除")])],1)],1)})),0),a("el-form-item",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.add(t)}}},[e._v("提交")])],1)],1),a("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.isShowAlert,expression:"isShowAlert"}],attrs:{title:e.alertMsg,type:"error","show-icon":""}})],1)},ye=[],xe={name:"AdvertsEdit",data:function(){return{advert:{_id:"",name:"",items:[]},isShowAlert:!1,alertMsg:""}},methods:{add:function(){var e=this,t=this.advert,a=t.name,r=t.items;if(a=a.trim(),!a)return this.alertMsg="广告位名称不合法",void(this.isShowAlert=!0);var s=this.$route.params._id;s?this.$http.put("/adverts",{_id:s,name:a,items:r}).then((function(t){e.$message({type:"success",message:"广告位修改成功！"}),e.$router.push("/adverts/list")})).catch((function(t){e.alertMsg="广告位修改失败！".concat(t),e.isShowAlert=!0})):this.$http.post("/adverts",{name:a,items:r}).then((function(t){e.$message({type:"success",message:"广告位添加成功！"}),e.$router.push("/adverts/list")})).catch((function(t){e.alertMsg="广告位添加失败！".concat(t),e.isShowAlert=!0}))},getadvertById:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params._id,e.next=3,this.$http.get("/adverts?_id=".concat(t));case 3:a=e.sent,this.advert=a.data.data;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.$route.params._id&&this.getadvertById()}},$e=xe,ke=(a("8636"),Object(l["a"])($e,_e,ye,!1,null,"91f47bc4",null)),Se=ke.exports,Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AdminUsersList"},[a("h1",[e._v("管理员列表")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.adminUsers,stripe:"",fit:""}},[a("el-table-column",{staticStyle:{width:"220px"},attrs:{prop:"_id",label:"_id"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return"admin"!==t.row.username?[a("el-button",{attrs:{disabled:"admin"===t.row.username,type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/adminUsers/edit/"+t.row._id)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.del(t.row)}}},[e._v("删除")])]:void 0}}],null,!0)})],1)],1)},Ue=[],Oe={name:"AdminUsersList",data:function(){return{adminUsers:[]}},methods:{getadminUsers:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/adminUsers");case 2:t=e.sent,this.adminUsers=t.data.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),del:function(e){var t=this;this.$confirm('是否真的删除："'.concat(e.username,'" '),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(_["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.delete("/adminUsers?_id=".concat(e._id));case 2:r=a.sent,0===r.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.getadminUsers());case 4:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.getadminUsers()}},Ce=Oe,Re=Object(l["a"])(Ce,Ae,Ue,!1,null,"7712d510",null),je=Re.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AdminUsersEdit"},[a("h1",[e._v(e._s(e.$route.params._id?"编辑":"创建")+"管理员")]),a("el-form",{nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{placeholder:"输入管理员名称"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:e.adminUser.username,callback:function(t){e.$set(e.adminUser,"username",t)},expression:"adminUser.username"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{clearable:"","show-password":"",placeholder:"输入管理员密码",type:"password"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:e.adminUser.password,callback:function(t){e.$set(e.adminUser,"password",t)},expression:"adminUser.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.add(t)}}},[e._v("提交")])],1)],1),a("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.isShowAlert,expression:"isShowAlert"}],attrs:{title:e.alertMsg,type:"error","show-icon":""}})],1)},Me=[],Le={name:"AdminUsersEdit",data:function(){return{adminUser:{_id:"",username:"",password:""},isShowAlert:!1,alertMsg:""}},methods:{add:function(){var e=this,t=this.adminUser,a=t.username,r=t.password;if(a=a.trim(),!a)return this.alertMsg="管理员名称不合法",void(this.isShowAlert=!0);var s=this.$route.params._id;s?this.$http.put("/adminUsers",{_id:s,username:a,password:r}).then((function(t){e.$message({type:"success",message:"管理员修改成功！"}),e.$router.push("/adminUsers/list")})).catch((function(t){e.alertMsg="管理员修改失败！".concat(t),e.isShowAlert=!0})):this.$http.post("/adminUsers",{username:a,password:r}).then((function(t){e.$message({type:"success",message:"管理员添加成功！"}),e.$router.push("/adminUsers/list")})).catch((function(t){e.alertMsg="管理员添加失败！".concat(t),e.isShowAlert=!0}))},getadminUserById:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params._id,e.next=3,this.$http.get("/adminUsers?_id=".concat(t));case 3:a=e.sent,this.adminUser=a.data.data;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.$route.params._id&&this.getadminUserById()}},Be=Le,De=(a("74b2"),Object(l["a"])(Be,Ee,Me,!1,null,"c1895906",null)),Ie=De.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Login"},[a("el-container",[a("el-form",[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{placeholder:"请输入用户名",autofocus:""},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{placeholder:"请输入密码",type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.login(t)}}},[e._v("登录")])],1)],1)],1)],1)},Pe=[],Te={name:"Login",data:function(){return{model:{username:"",password:""}}},methods:{login:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("/login",this.model);case 2:t=e.sent,localStorage.setItem("token",t.data.token),this.$router.push("/adminUsers/list"),this.$message({type:"success",message:"登录成功！"});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},He=Te,Ne=(a("4fb5"),Object(l["a"])(He,ze,Pe,!1,null,"1eb6c420",null)),Ve=Ne.exports,Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"VideosList"},[a("h1",[e._v("视频列表")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.videos,stripe:"",fit:""}},[a("el-table-column",{staticStyle:{width:"220px"},attrs:{prop:"_id",label:"_id"}}),a("el-table-column",{attrs:{prop:"category.name",label:"视频分类"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"playSort",label:"播放次数"}}),a("el-table-column",{attrs:{prop:"createdAt",label:"创建时间"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/videos/edit/"+t.row._id)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.del(t.row)}}},[e._v("删除")])]}}])})],1)],1)},Ye=[],qe=a("4fd2"),Je=a.n(qe),Fe={name:"VideosList",data:function(){return{videos:[]}},computed:{},methods:{getvideos:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/videos");case 2:t=e.sent,this.videos=t.data.data,this.videos.map((function(e){e.createdAt=Je()(e.createdAt).format("YYYY-MM-DD")}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),del:function(e){var t=this;this.$confirm('是否真的删除："'.concat(e.title,'" '),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(_["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.delete("/videos?_id=".concat(e._id));case 2:r=a.sent,0===r.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.getvideos());case 4:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.getvideos()}},Ke=Fe,Qe=Object(l["a"])(Ke,Ge,Ye,!1,null,"6ccec71a",null),We=Qe.exports,Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"VideosEdit"},[a("h1",[e._v(e._s(e.$route.params._id?"编辑":"创建")+"视频")]),a("el-form",{nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"选择视频分类"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.video.category,callback:function(t){e.$set(e.video,"category",t)},expression:"video.category"}},e._l(e.categories,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"视频标题"}},[a("el-input",{attrs:{placeholder:"输入视频标题"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:e.video.title,callback:function(t){e.$set(e.video,"title",t)},expression:"video.title"}})],1),a("el-form-item",{attrs:{label:"播放次数"}},[a("el-input",{attrs:{placeholder:"输入视频播放次数"},on:{focus:function(t){e.isShowAlert=!1}},model:{value:e.video.playSort,callback:function(t){e.$set(e.video,"playSort",t)},expression:"video.playSort"}})],1),a("el-form-item",{attrs:{label:"上传日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择上传日期"},model:{value:e.video.createdAt,callback:function(t){e.$set(e.video,"createdAt",t)},expression:"video.createdAt"}})],1),a("el-form-item",{attrs:{label:"封面图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUploadAction,"show-file-list":!1,"on-success":e.afterUploadImg,"on-error":e.errorUpload,headers:e.addHeaders}},[e.video.imgUrl?a("img",{staticClass:"avatar",attrs:{src:e.video.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"视频"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUploadAction,"show-file-list":!1,"on-success":e.afterUploadVideo,"on-error":e.errorUpload,headers:e.addHeaders}},[e.video.url?a("video",{staticClass:"avatar",attrs:{controls:""}},[a("source",{attrs:{src:e.video.url,type:"video/mp4"}}),a("source",{attrs:{src:e.video.url,type:"video/ogg"}}),e._v("您的浏览器不支持Video标签。\n        ")]):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.add(t)}}},[e._v("提交")])],1)],1),a("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.isShowAlert,expression:"isShowAlert"}],attrs:{title:e.alertMsg,type:"error","show-icon":""}})],1)},Ze=[],et={name:"VideosEdit",data:function(){return{video:{_id:"",title:"",url:"",imgUrl:"",category:"",playSort:0,createdAt:new Date},isShowAlert:!1,alertMsg:"",categories:[]}},methods:{afterUploadImg:function(e){this.$set(this.video,"imgUrl",e.imgUrl)},afterUploadVideo:function(e){this.$set(this.video,"url",e.imgUrl)},errorUpload:function(e){401===e.status&&(this.$message({type:"error",message:"token校验失败，请重新登录"}),this.$router.push("/Login"))},add:function(){var e=this,t=this.video,a=t.title,r=t.url,s=t.imgUrl,n=t.category;if(a=a.trim(),!a)return this.alertMsg="视频标题不合法",void(this.isShowAlert=!0);var i=this.$route.params._id;i?this.$http.put("/videos",{_id:i,title:a,url:r,imgUrl:s,category:n}).then((function(t){e.$message({type:"success",message:"视频修改成功！"}),e.$router.push("/videos/list")})).catch((function(t){e.alertMsg="视频修改失败！".concat(t),e.isShowAlert=!0})):this.$http.post("/videos",{title:a,url:r,imgUrl:s,category:n}).then((function(t){e.$message({type:"success",message:"视频添加成功！"}),e.$router.push("/videos/list")})).catch((function(t){e.alertMsg="视频添加失败！".concat(t),e.isShowAlert=!0}))},getvideoById:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params._id,e.next=3,this.$http.get("/videos?_id=".concat(t));case 3:a=e.sent,this.video=a.data.data;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getVideoCategories:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="5dca69e31cfca528dea00e5a",e.next=3,this.$http.get("/categories?parent=".concat(t));case 3:a=e.sent,this.categories=a.data.data;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.$route.params._id&&this.getvideoById(),this.getVideoCategories()}},tt=et,at=(a("efdc"),Object(l["a"])(tt,Xe,Ze,!1,null,"0a768217",null)),rt=at.exports;r["default"].use(d["a"]);var st=new d["a"]({mode:"history",base:"/admin/",routes:[{path:"/Login",name:"Login",component:Ve,meta:{isPublic:!0}},{path:"/",redirect:"/main"},{path:"/main",name:"main",component:v,children:[{path:"/categories/edit",name:"categoriesAdd",component:R},{path:"/categories/edit/:_id",name:"categoriesEdit",component:R},{path:"/categories/list",name:"categoriesList",component:k},{path:"/goods/edit",name:"goodsAdd",component:N},{path:"/goods/edit/:_id",name:"goodsEdit",component:N},{path:"/goods/list",name:"goodsList",component:D},{path:"/heros/edit",name:"herosAdd",component:ee},{path:"/heros/edit/:_id",name:"herosEdit",component:ee},{path:"/heros/list",name:"herosList",component:F},{path:"/articles/edit",name:"articlesAdd",component:pe},{path:"/articles/edit/:_id",name:"articlesEdit",component:pe},{path:"/articles/list",name:"articlesList",component:ie},{path:"/adverts/edit",name:"advertsAdd",component:Se},{path:"/adverts/edit/:_id",name:"advertsEdit",component:Se},{path:"/adverts/list",name:"advertsList",component:we},{path:"/adminUsers/edit",name:"adminUsersAdd",component:Ie},{path:"/adminUsers/edit/:_id",name:"adminUsersEdit",component:Ie},{path:"/adminUsers/list",name:"adminUsersList",component:je},{path:"/videos/edit",name:"videosAdd",component:rt},{path:"/videos/edit/:_id",name:"videosEdit",component:rt},{path:"/videos/list",name:"videosList",component:We}]}]}),nt=a("591a");r["default"].use(nt["a"]);var it=new nt["a"].Store({state:{},mutations:{},actions:{},getters:{}}),ot=a("7893"),lt=a.n(ot);a("610a");r["default"].use(lt.a);a("3d39");var ct=a("2427"),ut=a.n(ct),dt=ut.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/admin/"}).VUE_APP_API_URL||"/admin/api",timeout:1e3});st.beforeEach(function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t,a,r){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0!==t.meta.isPublic){e.next=4;break}r(),e.next=10;break;case 4:if(s=localStorage.getItem("token"),s){e.next=7;break}return e.abrupt("return",r("/Login"));case 7:return e.next=9,dt.post("/tokenVerify");case 9:r();case 10:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()),dt.interceptors.request.use((function(e){if("/login"===e.url)return e;var t=localStorage.getItem("token");return t?(e.headers.Authorization=t,e):st.push("/Login")}),(function(e){return Promise.reject(e)})),dt.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){return r["default"].prototype.$message({type:"error",message:e.response.data.msg}),401===e.response.status&&st.push("/Login"),Promise.reject(e)}));var mt=dt;r["default"].prototype.$http=mt,r["default"].config.productionTip=!1,r["default"].mixin({computed:{fileUploadAction:function(){return mt.defaults.baseURL+"/uploads"},addHeaders:function(){return{Authorization:localStorage.getItem("token")}}},methods:{}}),new r["default"]({router:st,store:it,render:function(e){return e(u)}}).$mount("#app")},"5fe6":function(e,t,a){"use strict";var r=a("4024"),s=a.n(r);s.a},"74b2":function(e,t,a){"use strict";var r=a("c4da"),s=a.n(r);s.a},8636:function(e,t,a){"use strict";var r=a("382a"),s=a.n(r);s.a},"8f36":function(e,t,a){"use strict";var r=a("06b5"),s=a.n(r);s.a},"92ce":function(e,t,a){},b90c:function(e,t,a){},c4da:function(e,t,a){},e112:function(e,t,a){},e6e4:function(e,t,a){"use strict";var r=a("b90c"),s=a.n(r);s.a},efdc:function(e,t,a){"use strict";var r=a("e112"),s=a.n(r);s.a}});
//# sourceMappingURL=app.dc0bf6d0.js.map